{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nexport class CartService {\n  constructor() {\n    this.cartItemList = [];\n    this.movieList = new BehaviorSubject([]);\n    this.grandTotal = 0;\n  }\n  getMovies() {\n    return this.movieList.asObservable();\n  }\n  setMovie(movie) {\n    this.cartItemList.push(...movie);\n    this.movieList.next(movie);\n  }\n  addToCart(movie) {\n    this.cartItemList.push(movie);\n    this.movieList.next(this.cartItemList);\n    this.getTotalPrice();\n    console.log(this.cartItemList);\n  }\n  getTotalPrice() {\n    let grandTotal = 0;\n    this.cartItemList.map(m => {\n      grandTotal += m.total;\n    });\n    return grandTotal;\n  }\n  // Remove one item\n  deleteCartItem(movie) {\n    this.cartItemList.map((m, index) => {\n      if (movie.id === m.id) {\n        this.cartItemList.splice(index, 1);\n      }\n    });\n    this.movieList.next(this.cartItemList);\n  }\n  EmptyCart() {\n    this.cartItemList = [];\n    this.movieList.next(this.cartItemList);\n  }\n  static #_ = this.ɵfac = function CartService_Factory(t) {\n    return new (t || CartService)();\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: CartService,\n    factory: CartService.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"names":["BehaviorSubject","CartService","constructor","cartItemList","movieList","grandTotal","getMovies","asObservable","setMovie","movie","push","next","addToCart","getTotalPrice","console","log","map","m","total","deleteCartItem","index","id","splice","EmptyCart","_","_2","factory","ɵfac","providedIn"],"sources":["/Users/supananchotteratat/Documents/movie-project/src/app/cart.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CartService {\n\n  public cartItemList: any = [];\n  public movieList = new BehaviorSubject<any>([]);\n  public grandTotal: number = 0;\n\n  constructor() { }\n\n  getMovies() {\n    return this.movieList.asObservable();\n  }\n\n  setMovie(movie: any) {\n    this.cartItemList.push(...movie);\n    this.movieList.next(movie);\n  }\n\n  addToCart(movie: any) {\n    this.cartItemList.push(movie);\n    this.movieList.next(this.cartItemList);\n    this.getTotalPrice();\n    console.log(this.cartItemList);\n  }\n\n  getTotalPrice(): number {\n    let grandTotal = 0;\n    this.cartItemList.map((m: any) => {\n      grandTotal += m.total\n    })\n    return grandTotal;\n  }\n\n// Remove one item\n  deleteCartItem(movie: any) {\n    this.cartItemList.map((m: any, index: any) => {\n      if (movie.id === m.id) {\n        this.cartItemList.splice(index, 1);\n      }\n    })\n    this.movieList.next(this.cartItemList);\n  }\n\n  EmptyCart() {\n    this.cartItemList = [];\n    this.movieList.next(this.cartItemList);\n  }\n}\n"],"mappings":"AACA,SAASA,eAAe,QAAQ,MAAM;;AAKtC,OAAM,MAAOC,WAAW;EAMtBC,YAAA;IAJO,KAAAC,YAAY,GAAQ,EAAE;IACtB,KAAAC,SAAS,GAAG,IAAIJ,eAAe,CAAM,EAAE,CAAC;IACxC,KAAAK,UAAU,GAAW,CAAC;EAEb;EAEhBC,SAASA,CAAA;IACP,OAAO,IAAI,CAACF,SAAS,CAACG,YAAY,EAAE;EACtC;EAEAC,QAAQA,CAACC,KAAU;IACjB,IAAI,CAACN,YAAY,CAACO,IAAI,CAAC,GAAGD,KAAK,CAAC;IAChC,IAAI,CAACL,SAAS,CAACO,IAAI,CAACF,KAAK,CAAC;EAC5B;EAEAG,SAASA,CAACH,KAAU;IAClB,IAAI,CAACN,YAAY,CAACO,IAAI,CAACD,KAAK,CAAC;IAC7B,IAAI,CAACL,SAAS,CAACO,IAAI,CAAC,IAAI,CAACR,YAAY,CAAC;IACtC,IAAI,CAACU,aAAa,EAAE;IACpBC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACZ,YAAY,CAAC;EAChC;EAEAU,aAAaA,CAAA;IACX,IAAIR,UAAU,GAAG,CAAC;IAClB,IAAI,CAACF,YAAY,CAACa,GAAG,CAAEC,CAAM,IAAI;MAC/BZ,UAAU,IAAIY,CAAC,CAACC,KAAK;IACvB,CAAC,CAAC;IACF,OAAOb,UAAU;EACnB;EAEF;EACEc,cAAcA,CAACV,KAAU;IACvB,IAAI,CAACN,YAAY,CAACa,GAAG,CAAC,CAACC,CAAM,EAAEG,KAAU,KAAI;MAC3C,IAAIX,KAAK,CAACY,EAAE,KAAKJ,CAAC,CAACI,EAAE,EAAE;QACrB,IAAI,CAAClB,YAAY,CAACmB,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;;IAEtC,CAAC,CAAC;IACF,IAAI,CAAChB,SAAS,CAACO,IAAI,CAAC,IAAI,CAACR,YAAY,CAAC;EACxC;EAEAoB,SAASA,CAAA;IACP,IAAI,CAACpB,YAAY,GAAG,EAAE;IACtB,IAAI,CAACC,SAAS,CAACO,IAAI,CAAC,IAAI,CAACR,YAAY,CAAC;EACxC;EAAC,QAAAqB,CAAA,G;qBA7CUvB,WAAW;EAAA;EAAA,QAAAwB,EAAA,G;WAAXxB,WAAW;IAAAyB,OAAA,EAAXzB,WAAW,CAAA0B,IAAA;IAAAC,UAAA,EAFV;EAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}